
%button.btn.btn-light.btn-sm(type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border-color:#dee2e6;")
  =bi_icon('three-dots', fill: '#212529', style: 'margin-right: 0px;')

.dropdown-menu
  -if is_tspot
    =link_to(site.url, class: 'dropdown-item', target: '_blank') { bi_icon('box-arrow-up-right') + 'View' }
    =link_to(download_tspot_site_path(site), class: 'dropdown-item') { bi_icon('download') + 'Download' }
    .dropdown-divider

    =link_to(edit_tspot_site_path(site), class: 'dropdown-item') { bi_icon('sliders') + 'Settings' }
    =link_to(change_password_tspot_site_path(site), class: 'dropdown-item') { bi_icon('person-check') + 'Change password' }
    .dropdown-divider

    =link_to(disown_tspot_site_path(site), method: :post, class: 'dropdown-item',
      data: { confirm: "Are you sure you want to give up ownership of '#{site.name}.tiddlyspot.com'?" }) { bi_icon('file-earmark-minus') + 'Disown' }

  -else
    =link_to(site.url, class: 'dropdown-item', target: '_blank') { bi_icon('box-arrow-up-right') + 'View' }
    =link_to(download_site_path(site), class: 'dropdown-item', target: '_blank') { bi_icon('download') + 'Download' }
    .dropdown-divider

    =link_to(edit_site_path(site), class: 'dropdown-item') { bi_icon('sliders') + 'Settings' }
    .dropdown-divider

    =link_to(upload_form_site_path(site), class: 'dropdown-item') { bi_icon('upload') + 'Upload' }
    .dropdown-divider

    =link_to(site, method: :delete, class: 'dropdown-item',
      data: { confirm: "Are you sure you want to delete '#{site.name}'?" }) { bi_icon('trash') + 'Delete' }
